const supabase=require("../config/database");module.exports={uploadFile:async(o,r)=>{try{console.log("Iniciando upload de arquivo:"),console.log("Arquivo:",o);const e=o.buffer,a=o.filename,{data:s,error:u}=await supabase.storage.from("audios").upload(a,e,{cacheControl:"3600",upsert:!1});if(u)return console.error("Erro ao fazer o upload do arquivo:",u.message),r(u,null);console.log("Arquivo enviado com sucesso:",s);return r(null,supabase.storage.from("audios").getPublicUrl(a).publicURL)}catch(o){return console.error("Erro inesperado no upload:",o),r(o,null)}}};